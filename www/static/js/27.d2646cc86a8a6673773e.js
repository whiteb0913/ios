webpackJsonp([27],{"+4Zp":function(t,s){},iuAZ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i,c=e("a3Yh"),a=e.n(c),n={name:"HelloWorld",data:function(){return{msg:"",list:[],show:!1,notCheck:e("iLaJ"),checked:e("JG3o"),checkedAll:!1}},methods:(i={returns:function(){this.$router.push({path:"/class"})},closePop:function(){this.show=!1},next:function(){this.$router.push({path:"/editHonor",query:{type:this.$route.query.type}})},isChecked:function(t){this.list[t].checked=!this.list[t].checked},all:function(){this.checkedAll=!this.checkedAll;var t=this.list;for(var s in t)t[s].checked=this.checkedAll;this.list=t},delBtn:function(){var t=this;this.$toast.loading({mask:!0,duration:0});var s=[];for(var e in this.list)this.list[e].checked&&s.push(this.list[e].id);if(0!=s.length)if(1==this.$route.query.type){var i={id:s.toString(),isdel:2};this.$http_json(this.$api.class.insertOrUpdateInfoHonour,i).then(function(e){if(console.log(e),0==e.code){for(var i in s)t.list.splice(i,1);t.$toast.clear()}else t.$toast(e.msg)},function(s){t.$toast.clear()})}else{i={id:s.toString(),isdel:2};this.$http_json(this.$api.class.insertOrUpdateInfoMien,i).then(function(e){if(console.log(e),0==e.code){for(var i in s)t.list.splice(i,1);t.$toast.clear()}else t.$toast(e.msg)},function(s){t.$toast.clear()})}else this.$toast("至少选择一项")},save:function(){},manager:function(){this.show=!0},getHonorList:function(){var t=this;this.$http({url:this.$api.class.getHonorList},{classesId:JSON.parse(localStorage.getItem("zhxy_user")).classesId}).then(function(s){if(console.log(s),0==s.code){for(var e in s.data)s.data[e].checked=!1;t.list=s.data}})}},a()(i,"getHonorList",function(){var t=this;this.$http({url:this.$api.class.getHonorList},{classesId:JSON.parse(localStorage.getItem("zhxy_user")).classesId}).then(function(s){if(console.log(s),0==s.code){for(var e in s.data)s.data[e].checked=!1;t.list=s.data}})}),a()(i,"getMienList",function(){var t=this;this.$http({url:this.$api.class.getMienList},{classesId:JSON.parse(localStorage.getItem("zhxy_user")).classesId}).then(function(s){console.log(s),0==s.code&&(t.list=s.data)})}),i),created:function(){1==this.$route.query.type?this.getHonorList():this.getMienList()}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"loginNav"},[i("img",{staticClass:"return",attrs:{src:e("Du5+"),alt:""},on:{click:t.returns}}),t._v(" "),i("p",{staticClass:"title f30 cfff text-center"},[t._v(t._s(1==t.$route.query.type?"班级荣誉":"班级风采"))]),t._v(" "),i("span",{staticClass:"f26 cfff pr-30",staticStyle:{position:"absolute",top:"0",right:"0","line-height":"0.84rem","z-index":"99"},on:{click:t.manager}},[t._v("管理")])]),t._v(" "),i("div",{staticClass:"content f28 c333",staticStyle:{padding:"0.84rem 0 1.7rem"}},[i("ul",{staticClass:"pl-30"},t._l(t.list,function(s,e){return i("li",{key:e,staticClass:"b_line pr-30",on:{click:function(e){t.$router.push({path:"/honorDetail",query:{type:t.$route.query.type,id:s.id}})}}},[i("img",{attrs:{src:t.$api.fileUrl+s.cover_image}}),t._v(" "),i("span",[t._v(t._s(s.title))])])}))]),t._v(" "),i("div",{staticClass:"centerBtns f26 cfff text-center",on:{click:t.next}},[t._v("新增文章")]),t._v(" "),i("van-popup",{staticClass:"vantPop",attrs:{position:"right"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i("div",[i("div",{staticClass:"loginNav"},[i("img",{staticClass:"return",attrs:{src:e("Du5+"),alt:""},on:{click:t.closePop}}),t._v(" "),i("p",{staticClass:"title f30 cfff text-center"},[t._v("班级荣誉编辑")]),t._v(" "),i("span",{staticClass:"f26 cfff pr-30",staticStyle:{position:"absolute",top:"0",right:"0","line-height":"0.84rem","z-index":"99"},on:{click:t.closePop}},[t._v("取消")])]),t._v(" "),i("div",{staticClass:"content f28 c333",staticStyle:{padding:"0.84rem 0 1rem"}},[i("ul",{staticClass:"pl-30"},t._l(t.list,function(s,e){return i("li",{key:e,staticClass:"b_line pr-30",on:{click:function(s){t.isChecked(e)}}},[i("img",{staticStyle:{border:"none"},attrs:{src:s.checked?t.checked:t.notCheck}}),t._v(" "),i("img",{staticClass:"headPic",attrs:{src:t.$api.fileUrl+s.cover_image}}),t._v(" "),i("span",[t._v(t._s(s.title))])])}))]),t._v(" "),i("div",{staticClass:"centerBtn f26 c333 text-center pl-30"},[i("div",[i("img",{staticClass:"pr-20",attrs:{src:t.checkedAll?t.checked:t.notCheck,alt:""},on:{click:t.all}}),t._v("\n                    全选\n                ")]),t._v(" "),i("span",{staticClass:"cfff",on:{click:t.delBtn}},[t._v("删除")])])])])],1)},staticRenderFns:[]};var o=e("C7Lr")(n,l,!1,function(t){e("+4Zp")},"data-v-8c066606",null);s.default=o.exports}});
//# sourceMappingURL=27.d2646cc86a8a6673773e.js.map