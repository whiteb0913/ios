webpackJsonp([36],{"+nDK":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("3cXf"),i=e.n(s),l={name:"HelloWorld",data:function(){return{name:"杨会如",active:2,personalData:{headImage:"",username:"",classesName:"",teaDesc:"",teaStyle:[]},icon:{home:e("Wm+I"),hmeActive:e("BJXB"),msg:e("WAHu"),msgActive:e("KIYd"),my:e("K6q9"),myActive:e("3W59")}}},methods:{returns:function(){this.$router.push({path:"/my"})},onReadHead:function(t){var a=this,e=new FormData;e.append("file",t.file),this.$fileHttp(this.$api.fileUpload,e).then(function(t){0==t.code&&(a.personalData.headImage=t.data[0])})},onRead:function(t){var a=this,e=new FormData;e.append("file",t.file),this.$fileHttp(this.$api.fileUpload,e).then(function(t){0==t.code&&a.personalData.teaStyle.push(t.data[0])})},editSubmit:function(){var t=this;this.$toast.loading({mask:!0,duration:0});var a={id:JSON.parse(localStorage.getItem("zhxy_user")).id,username:this.personalData.username,headImage:this.personalData.headImage,teaDesc:this.personalData.teaDesc,teaStyleUrl:this.personalData.teaStyle.toString()};this.$http({url:this.$api.my.saveOrUpdateTeacher},a).then(function(a){if(console.log(a),0==a.code){var e=JSON.parse(localStorage.getItem("zhxy_user"));e.username=t.personalData.username,e.headImage=t.personalData.headImage,e.teaDesc=t.personalData.teaDesc,e.teaStyle=t.personalData.teaStyle,localStorage.setItem("zhxy_user",i()(e)),t.$toast("修改成功")}else t.$toast(a,msg)},function(a){t.$toast.clear()})}},created:function(){this.personalData=JSON.parse(localStorage.getItem("zhxy_user"))}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticStyle:{width:"100%",overflow:"hidden",position:"relative",height:"100vh"}},[s("div",{staticClass:"loginNav"},[s("img",{staticClass:"return",attrs:{src:e("Du5+"),alt:""},on:{click:t.returns}}),t._v(" "),s("p",{staticClass:"title f30 cfff text-center"},[t._v("资料修改")])]),t._v(" "),s("div",{staticStyle:{overflow:"auto",height:"100vh","padding-top":"0.84rem","box-sizing":"border-box"}},[s("div",{staticClass:"msgBox"},[s("van-uploader",{staticClass:"calcWi msgLine",attrs:{"after-read":t.onReadHead,accept:"image/jpeg"}},[s("div",{staticClass:"msgTitle f30"},[t._v("个人头像")]),t._v(" "),s("img",{staticClass:"msgTo",attrs:{src:e("PkOM"),alt:""}}),t._v(" "),s("img",{staticClass:"msgHead",attrs:{src:t.$api.fileUrl+t.personalData.headImage,alt:""}})])],1),t._v(" "),s("div",{staticClass:"msgBox"},[s("div",{staticClass:"msgLine"},[s("div",{staticClass:"msgTitle f30"},[t._v("姓名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.personalData.username,expression:"personalData.username"}],staticClass:"f26 c999 msgName nameStyle",attrs:{type:"text"},domProps:{value:t.personalData.username},on:{input:function(a){a.target.composing||t.$set(t.personalData,"username",a.target.value)}}})])]),t._v(" "),s("div",{staticClass:"msgBox"},[s("div",{staticClass:"msgLine"},[s("div",{staticClass:"msgTitle f30"},[t._v("管理班级")]),t._v(" "),s("img",{staticClass:"msgTo",attrs:{src:e("PkOM"),alt:""}}),t._v(" "),s("div",{staticClass:"f26 c999 msgName"},[t._v(t._s(t.personalData.classesName))])])]),t._v(" "),s("div",{staticClass:"Introduction"},[s("div",{staticClass:"msgTitle f30 IntroductionTitle"},[t._v("个人简介")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.personalData.teaDesc,expression:"personalData.teaDesc"}],staticClass:"content f26 descStyle",attrs:{cols:"30",rows:"10"},domProps:{value:t.personalData.teaDesc},on:{input:function(a){a.target.composing||t.$set(t.personalData,"teaDesc",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"photo"},[t._m(0),t._v(" "),s("div",{staticClass:"phoneBox"},[t._l(t.personalData.teaStyle,function(a,e){return s("div",{key:e,staticClass:"imgShow ml-22 mt-22"},[s("img",{attrs:{src:t.$api.fileUrl+a,alt:""}})])}),t._v(" "),t.personalData.teaStyle.length<10?s("div",{staticClass:"imgShow ml-22 mt-22"},[s("van-uploader",{attrs:{"after-read":t.onRead,accept:"image/jpeg"}},[s("img",{attrs:{src:e("cW4t"),alt:""}})])],1):t._e()],2)])]),t._v(" "),s("div",{staticClass:"centerBtn f26 cfff text-center",on:{click:t.editSubmit}},[t._v("确认修改")])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"msgTitle f30 phoneTitle"},[this._v("教学风采 "),a("p",{staticClass:"c999 ml-30"},[this._v("(最多上传10张)")])])}]};var r=e("C7Lr")(l,n,!1,function(t){e("xGsg")},"data-v-58063e50",null);a.default=r.exports},xGsg:function(t,a){}});
//# sourceMappingURL=36.b97d86b2ce9cf2a63a5c.js.map