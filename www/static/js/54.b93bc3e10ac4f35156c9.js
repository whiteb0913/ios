webpackJsonp([54],{cL7v:function(e,t){},"ls/f":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("CPGk"),o={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App",list:[],active:0,show:!1,show1:!1,show2:!1,show3:!1,currentDate:new Date,currentDateTime:"12:00",model1:"",model2:"",model3:"",model4:"",index:0,history:[]}},filters:{fileTime:function(e){return a.a.dateFormat(e)}},methods:{returns:function(){this.$router.push({path:"/class"})},Time2Timestamps:function(e){return void 0==e?(new Date).getTime():new Date(e).getTime()},formatter:function(e,t){console.log(e,t)},confirm:function(e){if(1==this.index){var t=a.a.dateFormat(e.getTime());this.model1=t.substring(0,10).replace(/\//g,"-"),this.show=!1}else if(2==this.index){t=a.a.dateFormat(e.getTime());this.model2=t.substring(0,10).replace(/\//g,"-"),this.show1=!1}else 3==this.index?(this.model3=e,this.show2=!1):(this.model4=e,this.show3=!1)},cancel:function(){this.show=!1},changeModel:function(e){this.index=e,1==e?this.show=!0:2==e?this.show1=!0:3==e?this.show2=!0:this.show3=!0},saveOrUpdateClassesTable:function(){var e=this;if(""!=this.model1)if(""!=this.model2)if(""!=this.model3)if(""!=this.model4){this.$toast.loading({mask:!0,duration:0});var t={classesId:JSON.parse(localStorage.getItem("zhxy_user")).classesId,startTimeTable:this.model1,endTimeTable:this.model2,startSignTime:this.model3,endSignTime:this.model4};this.$http({url:this.$api.class.saveOrUpdateClassesTable},t).then(function(t){e.$toast.clear(),0==t.code?(e.model1="",e.model2="",e.model3="",e.model4="",e.selectByClassesId(),e.$toast("创建成功")):e.$toast(t.msg)}).catch(function(t){e.$toast.clear(),e.$toast(t)})}else this.$toast("请选择签退开始时间");else this.$toast("请选择签到开始时间");else this.$toast("请选择作息结束时间");else this.$toast("请选择作息开始时间")},saveOrUpdateClassScheduleRecord:function(e){var t=this;this.$dialog.confirm({title:"提示",message:"确认删除么"}).then(function(){var s={id:e,isdel:2};t.$http_json(t.$api.class.saveOrUpdateClassScheduleRecord,s).then(function(e){0==e.code?(t.$toast("删除成功"),t.selectByClassesId()):t.$toast(e.msg)}).catch(function(e){t.$toast.clear(),t.$toast(e)})}).catch(function(){})},selectByClassesId:function(){var e=this;this.$toast.loading({mask:!0,duration:0});var t={classesId:JSON.parse(localStorage.getItem("zhxy_user")).classesId};this.$http({url:this.$api.class.selectByClassesId},t).then(function(t){e.$toast.clear(),0==t.code?e.history=t.data:e.$toast(t.msg)}).catch(function(t){e.$toast.clear(),e.$toast(t)})},TimeDifference:function(e,t){var s=e.split(":");parseInt(s[0]),parseInt(s[1]),parseInt(s[1]);var a=parseInt(num/3600),o=parseInt(60*(num/3600-a));return a+"时"+o+"分"+(num-3600*a-60*o)+"秒"}},created:function(){this.selectByClassesId()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"loginNav"},[a("img",{staticClass:"return",attrs:{src:s("Du5+"),alt:""},on:{click:e.returns}}),e._v(" "),a("p",{staticClass:"title f30 cfff text-center"},[e._v("班级作息设置")])]),e._v(" "),a("div",{staticClass:"content f28 c333"},[a("van-tabs",{staticClass:"restClass",attrs:{type:"card",color:"#6b77ff",sticky:!0},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("van-tab",{attrs:{title:"设置"}},[a("div",{staticClass:"chooseDate"},[a("p",[e._v("选择日期")]),e._v(" "),a("div",{staticClass:"chooseBox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model1,expression:"model1"}],staticClass:"chooseInp l",attrs:{type:"text",placeholder:"请选择开始时间",readonly:""},domProps:{value:e.model1},on:{click:function(t){e.changeModel(1)},input:function(t){t.target.composing||(e.model1=t.target.value)}}}),e._v(" "),a("div",{staticClass:"l lineDiv"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model2,expression:"model2"}],staticClass:"chooseInp l",attrs:{type:"text",placeholder:"请选择结束时间",readonly:""},domProps:{value:e.model2},on:{click:function(t){e.changeModel(2)},input:function(t){t.target.composing||(e.model2=t.target.value)}}})]),e._v(" "),a("p",[e._v("选择日期")]),e._v(" "),a("div",{staticClass:"chooseBox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model3,expression:"model3"}],staticClass:"chooseInp l",attrs:{type:"text",placeholder:"请选择签到时间",readonly:""},domProps:{value:e.model3},on:{click:function(t){e.changeModel(3)},input:function(t){t.target.composing||(e.model3=t.target.value)}}}),e._v(" "),a("div",{staticClass:"l lineDiv"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model4,expression:"model4"}],staticClass:"chooseInp l",attrs:{type:"text",placeholder:"请选择签退时间",readonly:""},domProps:{value:e.model4},on:{click:function(t){e.changeModel(4)},input:function(t){t.target.composing||(e.model4=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"centerBtn f26 cfff text-center",on:{click:e.saveOrUpdateClassesTable}},[e._v("确认创建")])]),e._v(" "),a("van-tab",{attrs:{title:"历史记录"}},[a("div",{staticClass:"list-for"},e._l(e.history,function(t,s){return a("div",{key:s,staticClass:"list-item"},[a("div",{staticClass:"item-left l"},[a("div",{staticClass:"dateYear f22 c333 mt-30"},[e._v(e._s(t.startTimeTable)+" 至 "+e._s(t.endTimeTable))]),e._v(" "),a("div",{staticClass:"dateTime f20 mt-30"},[e._v(e._s(t.startSignTime)+" - "+e._s(t.endSignTime))])]),e._v(" "),a("div",{staticClass:"item-right r",on:{click:function(s){e.saveOrUpdateClassScheduleRecord(t.id)}}},[e._v("\n                            删除\n                        ")])])}))])],1)],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("van-datetime-picker",{attrs:{type:"date"},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show1,callback:function(t){e.show1=t},expression:"show1"}},[a("van-datetime-picker",{attrs:{type:"date"},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show2,callback:function(t){e.show2=t},expression:"show2"}},[a("van-datetime-picker",{attrs:{type:"time"},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDateTime,callback:function(t){e.currentDateTime=t},expression:"currentDateTime"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show3,callback:function(t){e.show3=t},expression:"show3"}},[a("van-datetime-picker",{attrs:{type:"time"},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDateTime,callback:function(t){e.currentDateTime=t},expression:"currentDateTime"}})],1)],1)},staticRenderFns:[]};var n=s("C7Lr")(o,i,!1,function(e){s("cL7v")},"data-v-3253f7e5",null);t.default=n.exports}});
//# sourceMappingURL=54.b93bc3e10ac4f35156c9.js.map