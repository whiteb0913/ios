webpackJsonp([50],{fL87:function(t,e){},iSXj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App",notCheck:s("iLaJ"),checked:s("JG3o"),select:s("QF9x"),show:!1,list:[],typeList:[],typeId:"",typeName:""}},methods:{returns:function(){this.$router.push({path:"/dutyList"})},isChecked:function(t){var e=this.list;""!=this.typeId?(e[t].checked&&e[t].sweepLabelId==this.typeId?e[t].checked=!e[t].checked:e[t].checked&&e[t].sweepLabelId!=this.typeId?(e[t].sweepLabelId=this.typeId,e[t].sweepLabelName=this.typeName):(e[t].checked=!e[t].checked,e[t].sweepLabelId=this.typeId,e[t].sweepLabelName=this.typeName),this.list=e):this.$toast("暂无可选值日")},choose:function(){this.show=!this.show},confirm:function(){var t=null;if(0!=this.typeList.length){for(var e in this.typeList)if(this.typeList[e].selected){t=e;break}this.typeId=this.typeList[t].id,this.typeName=this.typeList[t].name,this.show=!1}else this.$toast("暂无可选项")},dutyType:function(t){var e=this.typeList;if(!e[t].selected)for(var s in e)e[s].selected=!1;e[t].selected=!0,this.typeId=e[t].id,this.typeName=e[t].name,this.typeList=e},getStudent:function(){var t=this;this.$toast.loading({mask:!0,message:"加载中...",duration:0}),this.$http({url:this.$api.class.getStudent},{classesId:JSON.parse(localStorage.getItem("zhxy_user")).classesId}).then(function(e){if(console.log(e),0==e.code){for(var s in e.data)e.data[s].sweepLabelName?e.data[s].checked=!0:e.data[s].checked=!1;t.list=e.data,t.$toast.clear()}else t.$toast(e.msg)},function(e){t.$toast(data.msg)})},getSweepLabelBySchId:function(){var t=this;this.$http({url:this.$api.class.getSweepLabelBySchId},{schoolId:JSON.parse(localStorage.getItem("zhxy_user")).schoolId}).then(function(e){if(console.log(e),0==e.code){for(var s in e.data)0==s?(e.data[s].selected=!0,t.typeId=e.data[s].id,t.typeName=e.data[s].name):e.data[s].selected=!1;t.typeList=e.data}})},addClassSweep:function(){var t=this,e=[],s=[];for(var i in this.list)this.list[i].checked&&(e.push(this.list[i].id),s.push(this.list[i].sweepLabelId));if(0!=e.length){var a={ids:e.toString(),labelIds:s.toString(),classesId:JSON.parse(localStorage.getItem("zhxy_user")).classesId};this.$http({url:this.$api.class.addClassSweep},a).then(function(e){console.log(e),0==e.code?(t.$toast("设置成功"),t.$router.push({path:"/dutyList"})):t.$toast(e.msg)},function(e){t.$toast(data.msg)})}else this.$toast("暂无设置项")}},created:function(){this.getStudent(),this.getSweepLabelBySchId()}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"setDu"}},[i("div",{staticClass:"loginNav"},[i("img",{staticClass:"return",attrs:{src:s("Du5+"),alt:""},on:{click:t.returns}}),t._v(" "),i("p",{staticClass:"title f30 cfff text-center"},[t._v("值日生设置")]),t._v(" "),i("span",{staticClass:"f26 cfff pr-30",staticStyle:{position:"absolute",top:"0",right:"0","line-height":"0.84rem","z-index":"99"},on:{click:t.choose}},[t._v("管理")])]),t._v(" "),i("van-popup",{staticClass:"downPop",attrs:{position:"top",overlay:!0},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"cfff f28 dropDown"},[i("ul",t._l(t.typeList,function(e,s){return i("li",{key:s,on:{click:function(e){t.dutyType(s)}}},[t._v("\n                    "+t._s(e.name)+"\n                    "),i("img",{style:{display:e.selected?"block":"none"},attrs:{src:t.select}})])})),t._v(" "),i("div",[i("p",{staticStyle:{"border-right":"1px solid #6671f2"},on:{click:function(e){t.show=!1}}},[t._v("取消")]),t._v(" "),i("p",{on:{click:t.confirm}},[t._v("确定")])])])]),t._v(" "),i("div",{staticClass:"content f28 c333",staticStyle:{padding:"0.84rem 0 1.7rem"}},[i("ul",{staticClass:"pl-30"},t._l(t.list,function(e,s){return i("li",{key:s,staticClass:"b_line pr-30",on:{click:function(e){t.isChecked(s)}}},[i("img",{attrs:{src:e.checked?t.checked:t.notCheck}}),t._v(" "),i("img",{staticClass:"headPic",attrs:{src:t.$api.fileUrl+e.headImage}}),t._v(" "),i("span",[t._v(t._s(e.username))]),t._v(" "),i("span",{staticClass:"onDuty f20 cfff ml-20",style:{display:e.checked?"block":"none"}},[t._v(t._s(e.sweepLabelName))])])}))]),t._v(" "),i("div",{staticClass:"centerBtn f26 cfff text-center",on:{click:t.addClassSweep}},[t._v("设置为值日生"+t._s(t.typeName))])],1)},staticRenderFns:[]};var c=s("C7Lr")(i,a,!1,function(t){s("fL87")},"data-v-3f52ffb4",null);e.default=c.exports}});
//# sourceMappingURL=50.fce8f07c04c63c9d2370.js.map